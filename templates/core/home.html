{% extends 'base/base.html' %}
{% load static %}

{% block title %}{{ page_title }}{% endblock %}
{% block description %}{{ meta_description }}{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/home.css' %}">
{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="hero">
    <!-- Hyperspeed Starfield Canvas -->
    <canvas id="starfield-canvas"></canvas>
    
    <div class="container">
        <h1 class="hero__title">{{ hero_title }}</h1>
        <p class="hero__subtitle">{{ hero_subtitle }}</p>
        
        <div class="hero__actions">
            <a href="#proyectos" class="btn btn--primary">
                Ver Proyectos
            </a>
            <a href="#servicios" class="btn btn--primary">
                Conocer Servicios
            </a>
        </div>
    </div>
</section>

<!-- Servicios Preview -->
<section id="servicios" class="services-preview">
    <div class="container">
        <h2 class="text-center" style="font-size: var(--text-3xl); font-weight: var(--font-bold); color: var(--gray-900); margin-bottom: var(--space-4);">
            Nuestros Servicios
        </h2>
            
        <div class="services-preview__grid">
            <!-- Instalación Solar -->
            <div class="service-card" data-service="instalacion">
                <div class="service-card__icon">
                    <svg width="30" height="30" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 7.77L18.39 18H5.61L12 7.77M12 4L2 20h20L12 4z"/>
                        <circle cx="12" cy="10" r="2"/>
                    </svg>
                </div>
                <h3 class="service-card__title">Instalación Solar</h3>
                <p class="service-card__description">
                    Instalaciones fotovoltaicas completas con paneles de alta eficiencia y garantía extendida.
                </p>
                <button class="service-card__toggle btn btn--primary" 
                        data-toggle="instalacion"
                        aria-expanded="false">
                    <span class="toggle-text">Ver más</span>
                    <svg class="toggle-icon" width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"/>
                    </svg>
                </button>
                
                <!-- Contenido desplegable -->
                <div class="service-card__details" id="details-instalacion" aria-hidden="true">
                    <div class="service-detail__content">
                        <p class="service-detail__description">
                            Realizamos instalaciones completas de sistemas fotovoltaicos con los más altos estándares de calidad. 
                            Nuestro equipo de ingenieros especialistas se encarga de todo el proceso desde el diseño hasta la puesta en marcha.
                        </p>
                        <ul class="service-detail__features">
                            <li>Análisis detallado de consumo energético</li>
                            <li>Diseño personalizado del sistema</li>
                            <li>Paneles solares de alta eficiencia</li>
                            <li>Inversores de última generación</li>
                            <li>Garantía extendida de 25 años</li>
                            <li>Tramitación de permisos y subvenciones</li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <!-- Mantenimiento -->
            <div class="service-card" data-service="mantenimiento">
                <div class="service-card__icon">
                    <svg width="30" height="30" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M22.7 19l-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4z"/>
                    </svg>
                </div>
                <h3 class="service-card__title">Mantenimiento</h3>
                <p class="service-card__description">
                    Servicio de mantenimiento preventivo y correctivo para máximo rendimiento de tu instalación.
                </p>
                <button class="service-card__toggle btn btn--primary" 
                        data-toggle="mantenimiento"
                        aria-expanded="false">
                    <span class="toggle-text">Ver más</span>
                    <svg class="toggle-icon" width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"/>
                    </svg>
                </button>
                
                <!-- Contenido desplegable -->
                <div class="service-card__details" id="details-mantenimiento" aria-hidden="true">
                    <div class="service-detail__content">
                        <p class="service-detail__description">
                            Garantizamos el óptimo rendimiento de tu instalación solar con nuestro servicio de mantenimiento 
                            preventivo y correctivo. Maximiza la vida útil y eficiencia de tu sistema.
                        </p>
                        <ul class="service-detail__features">
                            <li>Revisiones periódicas programadas</li>
                            <li>Limpieza profesional de paneles</li>
                            <li>Verificación de conexiones eléctricas</li>
                            <li>Análisis de rendimiento del sistema</li>
                            <li>Reparaciones rápidas y eficaces</li>
                            <li>Servicio técnico 24/7</li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <!-- Monitorización -->
            <div class="service-card" data-service="monitorizacion">
                <div class="service-card__icon">
                    <svg width="30" height="30" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M3 3v18h18v-2H5V3H3zm14 7h2v7h-2v-7zm-4-4h2v11h-2V6zm-4 6h2v5H9v-5z"/>
                    </svg>
                </div>
                <h3 class="service-card__title">Monitorización</h3>
                <p class="service-card__description">
                    Control en tiempo real de tu instalación solar con informes detallados de rendimiento.
                </p>
                <button class="service-card__toggle btn btn--primary" 
                        data-toggle="monitorizacion"
                        aria-expanded="false">
                    <span class="toggle-text">Ver más</span>
                    <svg class="toggle-icon" width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"/>
                    </svg>
                </button>
                
                <!-- Contenido desplegable -->
                <div class="service-card__details" id="details-monitorizacion" aria-hidden="true">
                    <div class="service-detail__content">
                        <p class="service-detail__description">
                            Sistema avanzado de monitorización en tiempo real que te permite controlar completamente 
                            tu instalación solar desde cualquier dispositivo, optimizando tu independencia energética.
                        </p>
                        <ul class="service-detail__features">
                            <li>Dashboard en tiempo real</li>
                            <li>Alertas automáticas de incidencias</li>
                            <li>Histórico detallado de producción</li>
                            <li>Análisis predictivo de rendimiento</li>
                            <li>App móvil para iOS y Android</li>
                            <li>Reportes mensuales automáticos</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Sección Quiénes Somos -->
<section id="nosotros" class="about-section">
    <div class="container">
        <div class="section-header">
            <h2 class="section-title">Quiénes Somos</h2>
            <p class="section-subtitle about-vision">
                Una visión transformando el futuro energético del mundo
            </p>
        </div>
        
        <div class="about-content">
            <!-- Introducción -->
            <div class="about-intro">
                <p class="about-intro__text">
                    En 2022, cuando la transición energética global demandaba soluciones más innovadoras y eficientes, nació INGLAT: la convergencia perfecta entre el talento ingenieril internacional y la tecnología solar de vanguardia. No fue casualidad, fue destino.
                </p>
            </div>
            
            <!-- Nuestros Orígenes -->
            <div class="about-origins">
                <h3 class="about-origins__title">Nuestros Orígenes</h3>
                <p class="about-origins__text">
                    INGLAT surgió de la experiencia colectiva de un grupo excepcional de ingenieros que habían conquistado diversos sectores de las energías renovables. Desde la gestión de proyectos hasta el diseño de sistemas de baterías de última generación, desde la conceptualización de parques solares hasta el commissioning de instalaciones a gran escala, cada uno aportó su expertise para crear algo más grande que la suma de sus partes.
                </p>
                
                <!-- Imagen y párrafo de Franco -->
                <div class="franco-section">
                    <div class="franco-image-container">
                        <img src="{% static 'images/franco.jpg' %}" alt="Franco Rotella - Fundador y CEO de INGLAT" class="franco-image">
                    </div>
                    <div class="franco-text">
                        <p class="about-origins__text">
                            Franco Rotella, nuestro fundador y CEO, visualizó lo que otros no podían ver: que la experiencia diversa de profesionales trabajando en diferentes áreas del sector renovable podía converger en una propuesta única e integral. Su visión se materializó en INGLAT, cuyo nombre refleja nuestros orígenes (INGenieros LATinoamericanos), pero cuyo alcance y equipo son verdaderamente globales.
                        </p>
                    </div>
                </div>
            </div>
            
            <!-- Nuestra Misión -->
            <div class="about-mission">
                <h3 class="about-mission__title">Nuestra Misión</h3>
                <p class="about-mission__text">
                    Somos especialistas en el monitoreo, mantenimiento e instalación de módulos solares a gran escala. Pero somos mucho más que eso. Somos los arquitectos de la eficiencia energética, los guardianes de cada kilovatio generado, los innovadores que transforman la luz solar en progreso sostenible.
                </p>
            </div>
            
            <!-- Por Qué Elegir INGLAT -->
            <div class="why-choose-inglat">
                <h3 class="why-choose__title">Por Qué Elegir INGLAT</h3>
                <div class="why-choose-grid">
                    <div class="why-choose-item">
                        <div class="why-choose-item__icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                            </svg>
                        </div>
                        <h4 class="why-choose-item__title">Expertise Multidisciplinario</h4>
                        <p class="why-choose-item__description">
                            Nuestro equipo combina décadas de experiencia en project management, ingeniería de baterías, diseño de parques solares y commissioning. Esta diversidad nos permite abordar cada proyecto desde múltiples perspectivas técnicas.
                        </p>
                    </div>
                    
                    <div class="why-choose-item">
                        <div class="why-choose-item__icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M12 7.77L18.39 18H5.61L12 7.77M12 4L2 20h20L12 4z"/>
                                <circle cx="12" cy="10" r="2"/>
                            </svg>
                        </div>
                        <h4 class="why-choose-item__title">Enfoque en Gran Escala</h4>
                        <p class="why-choose-item__description">
                            Nos especializamos en proyectos que realmente marquen la diferencia. Cuando hablamos de instalaciones solares a gran escala, hablamos de impacto real en la matriz energética.
                        </p>
                    </div>
                    
                    <div class="why-choose-item">
                        <div class="why-choose-item__icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-.5-13H10v6l5.25 3.15.75-1.23-4.5-2.67z"/>
                            </svg>
                        </div>
                        <h4 class="why-choose-item__title">Perspectiva Global</h4>
                        <p class="why-choose-item__description">
                            Nuestra experiencia internacional nos permite aplicar las mejores prácticas globales, adaptándolas a las necesidades específicas de cada región y cliente.
                        </p>
                    </div>
                    
                    <div class="why-choose-item">
                        <div class="why-choose-item__icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M22.7 19l-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4z"/>
                            </svg>
                        </div>
                        <h4 class="why-choose-item__title">Soluciones Integrales</h4>
                        <p class="why-choose-item__description">
                            No solo instalamos paneles solares. Monitoreamos su rendimiento, optimizamos su funcionamiento y garantizamos su mantenimiento para maximizar la inversión de nuestros clientes.
                        </p>
                    </div>
                </div>
            </div>
            
            <!-- Nuestro Compromiso -->
            <div class="about-commitment">
                <h3 class="about-commitment__title">Nuestro Compromiso</h3>
                <p class="about-commitment__text">
                    En INGLAT, cada proyecto es una oportunidad de demostrar que la ingeniería de excelencia está a la altura de los desafíos energéticos más complejos del mundo. Trabajamos con la precisión de la ciencia, la pasión de los pioneros y la responsabilidad de quienes construyen el futuro.
                </p>
                <p class="about-commitment__text">
                    Porque el futuro es renovable. Y en INGLAT, ese futuro comienza hoy.
                </p>
            </div>
            
            <!-- Cita de Franco -->
            <div class="franco-quote">
                <blockquote class="franco-quote__text">
                    "La energía solar no es solo una tecnología, es la manifestación de nuestra capacidad para transformar recursos infinitos en progreso sostenible."
                </blockquote>
                <cite class="franco-quote__author">Franco Rotella, Fundador y CEO de INGLAT</cite>
            </div>
        </div>
    </div>
</section>

<!-- Proyectos Destacados -->
<section id="proyectos" class="projects-section">
    <div class="container">
        <div class="section-header">
            <h2 class="section-title">Proyectos Destacados</h2>
            <p class="section-subtitle">
                Conoce algunos de nuestros proyectos más exitosos de instalaciones solares
            </p>
        </div>
        
        {% if featured_projects %}
        <div class="projects-grid">
            {% for project in featured_projects %}
            <article class="project-card" data-project-id="{{ project.id }}">
                <div class="project-card__image">
                    {% if project.featured_image %}
                        <img src="{{ project.featured_image.url }}" 
                             alt="{{ project.title }}" 
                             loading="lazy">
                    {% else %}
                        <div class="project-card__placeholder">
                            <svg width="40" height="40" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M12 7.77L18.39 18H5.61L12 7.77M12 4L2 20h20L12 4z"/>
                                <circle cx="12" cy="10" r="2"/>
                            </svg>
                        </div>
                    {% endif %}
                    {% if project.power_capacity %}
                        <div class="project-card__badge">{{ project.power_capacity }}</div>
                    {% endif %}
                </div>
                
                <div class="project-card__content">
                    <div class="project-card__header">
                        <h3 class="project-card__title">{{ project.title }}</h3>
                        <div class="project-card__meta">
                            <span class="project-card__location">
                                <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/>
                                </svg>
                                {{ project.location }}
                            </span>
                            <span class="project-card__date">
                                <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"/>
                                </svg>
                                {{ project.date_completed|date:"M Y" }}
                            </span>
                        </div>
                    </div>
                    
                    <p class="project-card__description">{{ project.description_short }}</p>
                    
                    <button class="project-card__toggle" 
                            aria-expanded="false" 
                            aria-controls="project-details-{{ project.id }}">
                        <span class="project-card__toggle-text">Ver más</span>
                        <svg class="project-card__toggle-icon" width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"/>
                        </svg>
                    </button>
                </div>
                
                <div class="project-card__details" 
                     id="project-details-{{ project.id }}" 
                     aria-hidden="true">
                    <div class="project-card__details-content">
                        <div class="project-details">
                            {% if project.client_type %}
                            <div class="project-detail">
                                <strong>Tipo de Cliente:</strong> {{ project.client_type }}
                            </div>
                            {% endif %}
                            
                            {% if project.power_capacity %}
                            <div class="project-detail">
                                <strong>Potencia Instalada:</strong> {{ project.power_capacity }}
                            </div>
                            {% endif %}
                            
                            <div class="project-detail">
                                <strong>Descripción Completa:</strong>
                            </div>
                            <p class="project-description-full">{{ project.description_full|linebreaks }}</p>
                        </div>
                    </div>
                </div>
            </article>
            {% endfor %}
        </div>
        {% else %}
        <div class="projects-empty">
            <p>Próximamente estaremos agregando nuestros proyectos destacados.</p>
        </div>
        {% endif %}
    </div>
</section>

<!-- Estadísticas -->
<section class="stats-section">
    <div class="container">
        <div class="stats-grid">
            <div class="stat-item">
                <span class="stat-item__number">500+</span>
                <span class="stat-item__label">Instalaciones</span>
            </div>
            <div class="stat-item">
                <span class="stat-item__number">10</span>
                <span class="stat-item__label">Años de Experiencia</span>
            </div>
            <div class="stat-item">
                <span class="stat-item__number">15MW</span>
                <span class="stat-item__label">Potencia Instalada</span>
            </div>
            <div class="stat-item">
                <span class="stat-item__number">98%</span>
                <span class="stat-item__label">Satisfacción Cliente</span>
            </div>
        </div>
    </div>
</section>

<!-- Call to Action -->
<section class="cta-section">
    <div class="container">
        <h2 class="cta-section__title">¿Listo para el Cambio?</h2>
        <p class="cta-section__subtitle">
            Únete a la revolución energética y comienza a ahorrar desde el primer día con una instalación solar personalizada.
        </p>
        
        <div class="hero__actions">
            <a href="{% url 'core:simulador' %}" class="btn btn--simulator">
                Simulador Solar
            </a>
            <a href="{% url 'contact:contact' %}" class="btn btn--primary">
                Solicitar Consulta
            </a>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_js %}
<script src="{% static 'js/home.js' %}" defer></script>
{% endblock %}