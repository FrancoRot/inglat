{% extends 'base/base.html' %}
{% load static %}

{% block title %}{{ page_title }}{% endblock %}
{% block description %}{{ meta_description }}{% endblock %}

{% block extra_css %}
<style>
/* Estilos específicos para la página de inicio */
.hero__actions {
    display: flex;
    gap: var(--space-4);
    justify-content: center;
    flex-wrap: wrap;
    margin-top: var(--space-8);
}

.services-preview {
    padding: var(--space-24) 0;
    background: var(--gray-100);
}

.services-preview__grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: var(--space-8);
    margin-top: var(--space-12);
}

.service-card {
    background: var(--white);
    border-radius: var(--border-radius-lg);
    padding: var(--space-8);
    text-align: center;
    box-shadow: var(--shadow);
    transition: all 0.3s ease;
    border: 1px solid var(--gray-200);
}

.service-card:hover {
    transform: translateY(-8px);
    box-shadow: var(--shadow-lg);
    border-color: var(--primary-light);
}

.service-card__icon {
    width: 60px;
    height: 60px;
    margin: 0 auto var(--space-4);
    background: var(--gradient-primary);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--white);
}

.service-card__title {
    font-size: var(--text-xl);
    font-weight: var(--font-semibold);
    color: var(--gray-900);
    margin-bottom: var(--space-3);
}

.service-card:hover .service-card__title {
    color: var(--primary-color);
}

.service-card__description {
    color: var(--gray-700);
    line-height: 1.6;
    margin-bottom: var(--space-6);
}

.cta-section {
    padding: var(--space-24) 0;
    background: var(--gradient-secondary);
    color: var(--white);
    text-align: center;
}

.cta-section__title {
    font-size: var(--text-4xl);
    font-weight: var(--font-bold);
    margin-bottom: var(--space-6);
}

.cta-section__subtitle {
    font-size: var(--text-lg);
    opacity: 0.9;
    margin-bottom: var(--space-8);
    max-width: 600px;
    margin-left: auto;
    margin-right: auto;
}

.stats-section {
    padding: var(--space-16) 0;
    background: var(--white);
}

.stats-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: var(--space-8);
    text-align: center;
}

.stat-item {
    padding: var(--space-6);
}

.stat-item__number {
    font-size: var(--text-4xl);
    font-weight: var(--font-bold);
    color: var(--primary-color);
    display: block;
    margin-bottom: var(--space-2);
}

.stat-item__label {
    font-size: var(--text-lg);
    color: var(--gray-700);
    font-weight: var(--font-medium);
}

/* Responsive Design */
@media (min-width: 768px) {
    .services-preview__grid {
        grid-template-columns: repeat(2, 1fr);
    }
    
    .stats-grid {
        grid-template-columns: repeat(2, 1fr);
    }
    
    .hero__actions {
        gap: var(--space-6);
    }
}

@media (min-width: 1024px) {
    .services-preview__grid {
        grid-template-columns: repeat(3, 1fr);
    }
    
    .stats-grid {
        grid-template-columns: repeat(4, 1fr);
    }
    
    .cta-section__title {
        font-size: var(--text-5xl);
    }
}
</style>
{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="hero">
    <div class="container">
        <h1 class="hero__title">{{ hero_title }}</h1>
        <p class="hero__subtitle">{{ hero_subtitle }}</p>
        
        <div class="hero__actions">
            <a href="{% url 'contact:contact' %}" class="btn btn--accent">
                Solicitar Presupuesto Gratuito
            </a>
            <a href="{% url 'core:services' %}" class="btn btn--secondary">
                Conocer Servicios
            </a>
        </div>
    </div>
</section>

<!-- Servicios Preview -->
<section class="services-preview">
    <div class="container">
        <h2 class="text-center" style="font-size: var(--text-3xl); font-weight: var(--font-bold); color: var(--gray-900); margin-bottom: var(--space-4);">
            Nuestros Servicios
        </h2>
        <p class="text-center" style="color: var(--gray-700); font-size: var(--text-lg); max-width: 600px; margin: 0 auto;">
            Soluciones integrales en energía renovable con tecnología de vanguardia y servicio personalizado
        </p>
        
        <div class="services-preview__grid">
            <!-- Instalación Solar -->
            <div class="service-card">
                <div class="service-card__icon">
                    <svg width="30" height="30" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 7.77L18.39 18H5.61L12 7.77M12 4L2 20h20L12 4z"/>
                        <circle cx="12" cy="10" r="2"/>
                    </svg>
                </div>
                <h3 class="service-card__title">Instalación Solar</h3>
                <p class="service-card__description">
                    Instalaciones fotovoltaicas completas con paneles de alta eficiencia y garantía extendida.
                </p>
                <a href="{% url 'core:services' %}#instalacion" class="btn btn--primary">Más información</a>
            </div>
            
            <!-- Mantenimiento -->
            <div class="service-card">
                <div class="service-card__icon">
                    <svg width="30" height="30" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M22.7 19l-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4z"/>
                    </svg>
                </div>
                <h3 class="service-card__title">Mantenimiento</h3>
                <p class="service-card__description">
                    Servicio de mantenimiento preventivo y correctivo para máximo rendimiento de tu instalación.
                </p>
                <a href="{% url 'core:services' %}#mantenimiento" class="btn btn--primary">Más información</a>
            </div>
            
            <!-- Monitorización -->
            <div class="service-card">
                <div class="service-card__icon">
                    <svg width="30" height="30" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M3 3v18h18v-2H5V3H3zm14 7h2v7h-2v-7zm-4-4h2v11h-2V6zm-4 6h2v5H9v-5z"/>
                    </svg>
                </div>
                <h3 class="service-card__title">Monitorización</h3>
                <p class="service-card__description">
                    Control en tiempo real de tu instalación solar con informes detallados de rendimiento.
                </p>
                <a href="{% url 'core:services' %}#monitorizacion" class="btn btn--primary">Más información</a>
            </div>
        </div>
    </div>
</section>

<!-- Estadísticas -->
<section class="stats-section">
    <div class="container">
        <div class="stats-grid">
            <div class="stat-item">
                <span class="stat-item__number">500+</span>
                <span class="stat-item__label">Instalaciones</span>
            </div>
            <div class="stat-item">
                <span class="stat-item__number">10</span>
                <span class="stat-item__label">Años de Experiencia</span>
            </div>
            <div class="stat-item">
                <span class="stat-item__number">15MW</span>
                <span class="stat-item__label">Potencia Instalada</span>
            </div>
            <div class="stat-item">
                <span class="stat-item__number">98%</span>
                <span class="stat-item__label">Satisfacción Cliente</span>
            </div>
        </div>
    </div>
</section>

<!-- Call to Action -->
<section class="cta-section">
    <div class="container">
        <h2 class="cta-section__title">¿Listo para el Cambio?</h2>
        <p class="cta-section__subtitle">
            Únete a la revolución energética y comienza a ahorrar desde el primer día con una instalación solar personalizada.
        </p>
        
        <div class="hero__actions">
            <a href="{% url 'contact:contact' %}" class="btn btn--accent">
                Solicitar Consulta Gratuita
            </a>
            <a href="tel:+34XXX-XXX-XXX" class="btn btn--secondary">
                Llamar Ahora
            </a>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_js %}
<script>
// JavaScript para la página de inicio
document.addEventListener('DOMContentLoaded', function() {
    // Animación de números en las estadísticas
    const statNumbers = document.querySelectorAll('.stat-item__number');
    
    const animateNumbers = (entries, observer) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                const target = entry.target;
                const finalValue = target.textContent;
                const numValue = parseInt(finalValue.replace(/[^\d]/g, ''));
                const suffix = finalValue.replace(/[\d]/g, '');
                
                let current = 0;
                const increment = Math.ceil(numValue / 50);
                const timer = setInterval(() => {
                    current += increment;
                    if (current >= numValue) {
                        current = numValue;
                        clearInterval(timer);
                    }
                    target.textContent = current + suffix;
                }, 30);
                
                observer.unobserve(target);
            }
        });
    };
    
    const observer = new IntersectionObserver(animateNumbers, {
        threshold: 0.5
    });
    
    statNumbers.forEach(num => observer.observe(num));
    
    // Smooth scroll para enlaces internos
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute('href'));
            if (target) {
                target.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
            }
        });
    });
});
</script>
{% endblock %}